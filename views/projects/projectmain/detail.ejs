<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= project.name %> - Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/style.css" rel="stylesheet">
</head>
<body>
  <div class="container py-5">
    <a href="/projects" class="btn btn-sm btn-outline-secondary mb-4">&larr; Back</a>
    <h2><%= project.name %></h2>

    <!-- Tabs -->
    <ul class="nav nav-tabs mb-4">
      <li class="nav-item"><a class="nav-link active" href="#">Details</a></li>
      <li class="nav-item"><a class="nav-link" href="/projects/<%= project._id %>/team/addteam">+ Add Team</a></li>
      <li class="nav-item"><a class="nav-link" href="/projects/<%= project._id %>/stakeholders/add">+ Add Stakeholder</a></li>
    </ul>

    <!-- Project Info -->
    <div class="mb-4">
      <p><strong>Project ID:</strong> <%= project.projectId %></p>
      <p><strong>Department:</strong> <%= project.department %></p>
      <p><strong>Category:</strong> <%= project.category %></p>
      <p><strong>Start Date:</strong> <%= new Date(project.startDate).toLocaleDateString('en-GB') %></p>
      <p><strong>End Date:</strong> <%= new Date(project.endDate).toLocaleDateString('en-GB') %></p>
      <p><strong>Description:</strong> <%= project.description %></p>
      <a href="/projects/<%= project._id %>/edit" class="btn btn-warning mt-3">Edit Project</a>
    </div>

    <!-- Team Section -->
    <h4 class="mt-5 mb-3">Team Members</h4>
    <% if (!teamMembers || teamMembers.length === 0) { %>
      <p class="text-muted">No team members yet.</p>
    <% } else { %>
      <div class="row">
        <% teamMembers.forEach(member => { %>
          <div class="col-md-4 mb-3">
            <div class="card p-3 shadow-sm">
              <h5><%= member.name %></h5>
              <p class="text-muted"><%= member.role %></p>
              <p>📞 <%= member.contact %></p>
              <p>📧 <%= member.email %></p>
              <p><small><%= member.type %></small></p>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>

    <!-- Stakeholder Section -->
    <h4 class="mt-5 mb-3">Stakeholders</h4>
    <% if (!stakeholders || stakeholders.length === 0) { %>
      <p class="text-muted">No stakeholders yet.</p>
    <% } else { %>
      <div class="row">
        <% stakeholders.forEach(s => { %>
          <div class="col-md-4 col-lg-3 mb-3">
            <div class="card p-3 shadow-sm">
              <h5><%= s.name %></h5>
              <p class="text-muted"><%= s.type %></p>
              <p>📞 <%= s.contact %></p>
              <p>✉️ <%= s.email %></p>
              <% if (s.address) { %>
                <p class="small text-muted">📍 <%= s.address %></p>
              <% } %>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>
</body>
</html>
